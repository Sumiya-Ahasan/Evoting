<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Election Portal</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/css/app.css" rel="stylesheet">
</head>

<body class="d-flex flex-column min-vh-100">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/">Election Portal</a>

    <div class="navbar-nav">
      <a class="nav-link" href="/">Home</a>
      <a class="nav-link" href="/elections/nomination-check/">Nomination</a>
      <a class="nav-link" href="/elections/ballot/">Ballot</a>
      <a class="nav-link" href="/elections/my-result/">My Result</a>
      <a class="nav-link" href="/elections/results/">Results</a>
      <a class="nav-link" href="/elections/voter-area-check/">Voter Area</a>
      <a class="nav-link" href="/about/">About</a>
    </div>

    <div class="d-flex gap-2 align-items-center">

      {% if voter_logged_in and voter_obj %}
        <span class="badge bg-success">Voter</span>
        <span class="text-white small">{{ voter_obj.full_name }} ({{ voter_obj.nid }})</span>
        <a class="btn btn-sm btn-outline-warning" href="/accounts/voter-logout/">Logout</a>
      {% else %}
        <a class="btn btn-sm btn-outline-light" href="/accounts/voter-login/">Voter Login</a>
      {% endif %}

      {% if auth_logged_in and auth_user %}
        {% if is_admin_user %}
          <span class="badge bg-warning text-dark">Admin</span>
        {% elif ec_logged_in and ec_profile %}
          <span class="badge bg-info text-dark">Zilla EC</span>
          <span class="text-white small">{{ ec_profile.district.name }}</span>
          <a class="btn btn-sm btn-outline-light" href="/accounts/ec-dashboard/">EC Panel</a>
        {% else %}
          <span class="badge bg-secondary">User</span>
        {% endif %}

        <span class="text-white small">{{ auth_user.username }}</span>

        <form method="post" action="/accounts/ec-logout/" class="m-0 p-0">
          {% csrf_token %}
          <button class="btn btn-sm btn-outline-danger">Logout</button>
        </form>
      {% else %}
        <a class="btn btn-sm btn-outline-light" href="/accounts/ec-login/">Zilla EC Login</a>
      {% endif %}
    </div>
  </div>
</nav>

<main class="container py-4 flex-grow-1">
  {% block content %}{% endblock %}
</main>

<footer class="bg-light border-top mt-auto">
  <div class="container py-3 d-flex flex-wrap gap-2 justify-content-between align-items-center">
    <div class="text-muted">Â© Election Portal</div>
    <div class="text-muted small">Academic projects</div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% block scripts %}{% endblock %}
</body>
</html>
